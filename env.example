# ============================================================================
# MIMIR CONFIGURATION
# ============================================================================
# Copy this file to .env and customize as needed
# Most settings have sensible defaults - only change what you need

# ============================================================================
# REQUIRED SETTINGS
# ============================================================================

# Mimir Server Configuration
MIMIR_SERVER_URL=http://localhost:9042    # Mimir HTTP server URL (used by clients)
MIMIR_SERVER_PORT=9042                     # Port for Mimir HTTP server

# Neo4j Database Password (CHANGE THIS IN PRODUCTION!)
NEO4J_PASSWORD=password

# Your main source code directory (will be mounted read-only)
# Examples:
#   Windows: C:\Users\YourName\Documents\GitHub
#   macOS:   ~/Documents/projects
#   Linux:   ~/workspace
HOST_WORKSPACE_ROOT=~/src

# ============================================================================
# LLM CONFIGURATION (For Chat API & Orchestration)
# ============================================================================

# Provider Selection
MIMIR_DEFAULT_PROVIDER=openai        # Options: openai, copilot, ollama, llama.cpp
MIMIR_DEFAULT_MODEL=gpt-4.1          # Default LLM model

# LLM API Configuration  
MIMIR_LLM_API=http://copilot-api:4141
MIMIR_LLM_API_PATH=/v1/chat/completions
MIMIR_LLM_API_MODELS_PATH=/v1/models
MIMIR_LLM_API_KEY=dummy-key

# ============================================================================
# PCTX Integration (Code Mode for 90-98% token reduction)
# ============================================================================
# PCTX URL (default: http://localhost:8080 for local, http://host.docker.internal:8080 for Docker)
PCTX_URL=http://localhost:8080
# Enable/disable PCTX tool for agents (default: false)
PCTX_ENABLED=false

# ============================================================================
# EMBEDDINGS CONFIGURATION (For Semantic Search & RAG)
# ============================================================================

# Enable/disable embeddings
MIMIR_EMBEDDINGS_ENABLED=true

# Embedding Model Configuration
MIMIR_EMBEDDINGS_MODEL=mxbai-embed-large     # Default: mxbai-embed-large (1024 dims)
MIMIR_EMBEDDINGS_API=http://llama-server:8080
MIMIR_EMBEDDINGS_API_PATH=/v1/embeddings
MIMIR_EMBEDDINGS_DIMENSIONS=1024             # Default: 1024 for mxbai-embed-large
MIMIR_EMBEDDINGS_CHUNK_SIZE=768              # Default: 768
MIMIR_EMBEDDINGS_CHUNK_OVERLAP=50            # Default: 50
MIMIR_EMBEDDINGS_MAX_RETRIES=3               # Default: 3 (retries for 503/model loading errors)
MIMIR_EMBEDDINGS_DELAY_MS=500                # Default: 500ms (delay between files to prevent overwhelming Ollama)

# Indexing Configuration
MIMIR_INDEXING_THREADS=1                     # Default: 1 (concurrent folders to index, limited due to single Ollama instance)

# ============================================================================
# OPTIONAL: ADVANCED FEATURES
# ============================================================================

# Auto-index Mimir documentation on startup (default: true)
# This allows users to immediately query Mimir's docs via semantic search
MIMIR_AUTO_INDEX_DOCS=true

# Per-agent model overrides (optional - defaults to MIMIR_DEFAULT_MODEL)
# MIMIR_PM_MODEL=gpt-4.1               # PM agent model
# MIMIR_WORKER_MODEL=gpt-4o-mini       # Worker agent model  
# MIMIR_QC_MODEL=gpt-4.1               # QC agent model

# Enable Ecko prompt optimization agent
MIMIR_ENABLE_ECKO=false

# Enable PM model suggestions
MIMIR_FEATURE_PM_MODEL_SUGGESTIONS=false

# ============================================================================
# OPTIONAL: CORPORATE NETWORK SETTINGS
# ============================================================================
# Only needed if you're behind a corporate proxy or use custom certificates

# Proxy settings (uncomment if needed)
# HTTP_PROXY=http://proxy.company.com:8080
# HTTPS_PROXY=http://proxy.company.com:8080
# NO_PROXY=localhost,127.0.0.1

# HTTP server port
PORT=3000

# File watching configuration
FILE_WATCH_POLLING=true
FILE_WATCH_INTERVAL=1000
WORKSPACE_ROOT=/workspace

# Custom CA certificates (uncomment if needed)
# SSL_CERT_FILE=/path/to/corporate-ca.crt
# CURL_CA_BUNDLE=/path/to/corporate-ca.crt
